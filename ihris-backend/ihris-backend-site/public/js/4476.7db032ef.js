"use strict";(self["webpackChunkiHRIS_v5"]=self["webpackChunkiHRIS_v5"]||[]).push([[4476],{5424:function(e,t,i){i.d(t,{Z:function(){return u}});var s=i(3325),r=i(5827),a=i(172),n=i(6952),o=i(7352),c=i(8085),d=i(2936),l=i(6505),p=i(9131),h=i(1824),u=(0,s.Z)(n.Z,p.Z,l.Z,c.Z,(0,o.d)("chipGroup"),(0,d.d)("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:()=>({proxyClass:"v-chip--active"}),computed:{classes(){return{"v-chip":!0,...l.Z.options.computed.classes.call(this),"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose,...this.themeClasses,...this.sizeableClasses,...this.groupClasses}},hasClose(){return Boolean(this.close)},isClickable(){return Boolean(l.Z.options.computed.isClickable.call(this)||this.chipGroup)}},created(){const e=[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]];e.forEach((([e,t])=>{this.$attrs.hasOwnProperty(e)&&(0,h.fK)(e,t,this)}))},methods:{click(e){this.$emit("click",e),this.chipGroup&&this.toggle()},genFilter(){const e=[];return this.isActive&&e.push(this.$createElement(a.Z,{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(r.Zq,e)},genClose(){return this.$createElement(a.Z,{staticClass:"v-chip__close",props:{right:!0,size:18},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:e=>{e.stopPropagation(),e.preventDefault(),this.$emit("click:close"),this.$emit("update:active",!1)}}},this.closeIcon)},genContent(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots.default,this.hasClose&&this.genClose()])}},render(e){const t=[this.genContent()];let{tag:i,data:s}=this.generateRouteLink();s.attrs={...s.attrs,draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:s.attrs.tabindex},s.directives.push({name:"show",value:this.active}),s=this.setBackgroundColor(this.color,s);const r=this.textColor||this.outlined&&this.color;return e(i,this.setTextColor(r,s),t)}})},4476:function(e,t,i){i.r(t),i.d(t,{default:function(){return S}});var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{attrs:{"grid-list-xs":""}},[i("v-overlay",{attrs:{value:e.overlay}},[i("v-progress-circular",{attrs:{color:"primary",indeterminate:"",size:"50"}}),i("v-btn",{attrs:{icon:""},on:{click:function(t){e.overlay=!1}}},[i("v-icon",[e._v("mdi-close")])],1)],1),i("v-overlay",{attrs:{value:e.overlayUnclosed}},[i("v-progress-circular",{attrs:{color:"primary",indeterminate:"",size:"50"}})],1),i("v-navigation-drawer",{staticClass:"primary darken-1 white--text",staticStyle:{"z-index":"3"},attrs:{app:"",clipped:"",permanent:"",right:""}},[i("v-list",{staticClass:"white--text"},[i("v-list-item",[i("v-btn",{staticClass:"secondary",attrs:{dark:""},on:{click:function(t){return e.$router.push("/resource/view/bwpractitioner/"+e.queries.practitioner)}}},[i("v-icon",{attrs:{light:"",left:""}},[e._v("mdi-eye")]),i("span",[e._v("View Health Profession")])],1)],1),i("v-divider",{attrs:{color:"white"}}),"approved"!==e.docsReview.status.code?i("v-list-item",[i("v-btn",{staticClass:"secondary",attrs:{dark:""},on:{click:function(t){return e.$router.push("/questionnaire/nmcb-registration-application/nmcb-registration-application/"+e.queries.id+"?practitioner="+e.queries.practitioner)}}},[i("v-icon",{attrs:{light:"",left:""}},[e._v("mdi-pencil")]),i("span",[e._v("Edit Application")])],1)],1):e._e(),e.references.length<2?i("v-list-item",[i("v-btn",{staticClass:"primary",attrs:{dark:"",small:""},on:{click:function(t){return e.$router.push("/questionnaire/nmcb-reference-letter/nmcb-reference-letter?practitioner="+e.queries.practitioner+"&application="+e.queries.id+"&_redirect=custom/nmcb-registration-application?id="+e.queries.id+"&path=/components/nmcb")}}},[i("v-icon",{attrs:{light:"",left:""}},[e._v("mdi-plus")]),i("span",[e._v("Add Reference Letter")])],1)],1):e._e(),e.transcript.id?e._e():i("v-list-item",[i("v-btn",{staticClass:"primary",attrs:{dark:"",small:""},on:{click:function(t){return e.$router.push("/questionnaire/nmcb-transcript/nmcb-transcript?practitioner="+e.queries.practitioner+"&application="+e.queries.id+"&_redirect=custom/nmcb-registration-application?id="+e.queries.id+"&path=/components/nmcb")}}},[i("v-icon",{attrs:{light:"",left:""}},[e._v("mdi-plus")]),i("span",[e._v("Add Transcript")])],1)],1),"outside"!==e.application.trainLocation.code&&"temporary"!==e.application.registrationType.code||e.goodStanding.id?e._e():i("v-list-item",[i("v-btn",{staticClass:"primary",attrs:{dark:"",small:""},on:{click:function(t){return e.$router.push("/questionnaire/nmcb-letter-good-standing/nmcb-letter-good-standing?practitioner="+e.queries.practitioner+"&application="+e.queries.id+"&_redirect=custom/nmcb-registration-application?id="+e.queries.id+"&path=/components/nmcb")}}},[i("v-icon",{attrs:{light:"",left:""}},[e._v("mdi-plus")]),i("span",[e._v("Add Letter Good Standing")])],1)],1),e.canAddHandlingFee?i("v-list-item",[i("v-btn",{staticClass:"primary",attrs:{dark:"",small:""},on:{click:function(t){return e.$router.push("/questionnaire/nmcb-handling-fee/nmcb-handling-fee?practitioner="+e.queries.practitioner+"&application="+e.queries.id+"&_redirect=custom/nmcb-registration-application?id="+e.queries.id+"&path=/components/nmcb")}}},[i("v-icon",{attrs:{light:"",left:""}},[e._v("mdi-check-decagram")]),i("span",[e._v("Add Handling Fee")])],1)],1):e._e(),e.canAddHandlingFeeReview?i("v-list-item",[i("v-btn",{staticClass:"primary",attrs:{dark:"",small:""},on:{click:function(t){return e.$router.push("/questionnaire/nmcb-handling-fee-review/nmcb-handling-fee-review-status?practitioner="+e.queries.practitioner+"&application="+e.queries.id+"&_redirect=custom/nmcb-registration-application?id="+e.queries.id+"&path=/components/nmcb")}}},[i("v-icon",{attrs:{light:"",left:""}},[e._v("mdi-check-decagram")]),e.handlingFeeReview.status&&"pending"!==e.handlingFeeReview.status.code?i("span",[e._v("Change Status")]):i("span",[e._v("Accept/Decline Handling Fee")])],1)],1):e._e(),e.canAddRegistrationFee?i("v-list-item",[i("v-btn",{staticClass:"primary",attrs:{dark:"",small:""},on:{click:function(t){return e.$router.push("/questionnaire/nmcb-registration-fee/nmcb-registration-fee?practitioner="+e.queries.practitioner+"&application="+e.queries.id)}}},[i("v-icon",{attrs:{light:"",left:""}},[e._v("mdi-check-decagram")]),i("span",[e._v("Add Registration Fee")])],1)],1):e._e(),e.canAddRegistrationFeeReview?i("v-list-item",[i("v-btn",{staticClass:"primary",attrs:{dark:"",small:""},on:{click:function(t){return e.$router.push("/questionnaire/nmcb-registration-fee-review/nmcb-registration-fee-review-status?practitioner="+e.queries.practitioner+"&application="+e.queries.id)}}},[i("v-icon",{attrs:{light:"",left:""}},[e._v("mdi-check-decagram")]),e.registrationFeeReview.status&&"pending"!==e.registrationFeeReview.status.code?i("span",[e._v("Change Status")]):i("span",[e._v("Accept/Decline Registration Fee")])],1)],1):e._e(),e.canAddCommitteeReview?i("v-list-item",[i("v-btn",{staticClass:"primary",attrs:{dark:"",small:""},on:{click:function(t){return e.$router.push("/questionnaire/nmcb-reg-committee-review/nmcb-reg-committee-review?practitioner="+e.queries.practitioner+"&application="+e.queries.id+"&_redirect=custom/nmcb-registration-application?id="+e.queries.id+"&path=/components/nmcb")}}},[i("v-icon",{attrs:{light:"",left:""}},[e._v("mdi-check-decagram")]),e.regCommitteeReview.status&&"pending"!==e.regCommitteeReview.status.code?i("span",[e._v("Change Committee Review")]):i("span",[e._v("Add Committee Review")])],1)],1):e._e(),e.canAddDocsReview?i("v-list-item",[i("v-btn",{staticClass:"primary",attrs:{dark:"",small:""},on:{click:function(t){return e.$router.push("/questionnaire/nmcb-documents-review/nmcb-app-documents-review-status?practitioner="+e.queries.practitioner+"&application="+e.queries.id+"&_redirect=custom/nmcb-registration-application?id="+e.queries.id+"&path=/components/nmcb")}}},[i("v-icon",{attrs:{light:"",left:""}},[e._v("mdi-check-decagram")]),e.docsReview.status&&"pending"!==e.docsReview.status.code?i("span",[e._v("Change Status")]):i("span",[e._v("Accept/Decline Docs")])],1)],1):e._e(),e.canAddBoardReview?i("v-list-item",[i("v-btn",{staticClass:"primary",attrs:{dark:"",small:""},on:{click:function(t){return e.$router.push("/questionnaire/nmcb-board-review/nmcb-board-review?practitioner="+e.queries.practitioner+"&application="+e.queries.id+"&_redirect=custom/nmcb-registration-application?id="+e.queries.id+"&path=/components/nmcb")}}},[i("v-icon",{attrs:{light:"",left:""}},[e._v("mdi-check-decagram")]),"pending"!==e.boardReview.status.code?i("span",[e._v("Change Board Review")]):i("span",[e._v("Add Board Review")])],1)],1):e._e(),e.canAddExamFee?i("v-list-item",[i("v-btn",{staticClass:"primary",attrs:{dark:"",small:""},on:{click:function(t){return e.$router.push("/questionnaire/nmcb-exam-fee/nmcb-exam-fee?practitioner="+e.queries.practitioner+"&application="+e.queries.id+"&_redirect=custom/nmcb-registration-application?id="+e.queries.id+"&path=/components/nmcb")}}},[i("v-icon",{attrs:{light:"",left:""}},[e._v("mdi-check-decagram")]),i("span",[e._v("Add Exam Fee")])],1)],1):e._e(),e.canAddExamFeeReview?i("v-list-item",[i("v-btn",{staticClass:"primary",attrs:{dark:"",small:""},on:{click:function(t){return e.$router.push("/questionnaire/nmcb-exam-fee-review/nmcb-exam-fee-review-status?practitioner="+e.queries.practitioner+"&application="+e.queries.id+"&_redirect=custom/nmcb-registration-application?id="+e.queries.id+"&path=/components/nmcb")}}},[i("v-icon",{attrs:{light:"",left:""}},[e._v("mdi-check-decagram")]),e.examFeeReview.status&&"pending"!==e.examFeeReview.status.code?i("span",[e._v("Change Status")]):i("span",[e._v("Accept/Decline Exam Fee")])],1)],1):e._e()],1)],1),i("v-row",[i("v-col",[i("bw-page-view",{key:e.appCompKey,attrs:{id:e.queries.id,page:"nmcb-registration-application"}}),e.registration.id?i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"700",outlined:""}},[i("v-card-title",{staticClass:"primary darken-1 white--text text-uppercase font-weight-bold"},[e._v(" Registration ")]),i("v-card-text",{staticClass:"my-3"},[i("v-row",{staticClass:"justify-space-between"},[i("v-col",{attrs:{cols:"4"}},[i("span",{staticClass:"font-weight-bold"},[e._v("Registration Number")])]),i("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.registration.regNumber)+" ")])],1),i("v-divider"),i("v-row",{staticClass:"justify-space-between"},[i("v-col",{attrs:{cols:"4"}},[i("span",{staticClass:"font-weight-bold"},[e._v("Registration Status")])]),i("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.registration.status.display)+" ")])],1),i("v-divider"),i("v-row",{staticClass:"justify-space-between"},[i("v-col",{attrs:{cols:"4"}},[i("span",{staticClass:"font-weight-bold"},[e._v("Registration Date")])]),i("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.registration.date)+" ")])],1)],1)],1):e._e(),e.examResults.results.length>0?i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"700",outlined:""}},[i("v-card-title",{staticClass:"primary darken-1 white--text text-uppercase font-weight-bold"},[e._v(" Exam Results ")]),i("v-card-text",{staticClass:"my-3"},[e._l(e.examResults.results,(function(t,s){return i("div",{key:s},[i("v-row",{staticClass:"justify-space-between"},[i("v-col",{attrs:{cols:"4"}},[i("span",{staticClass:"font-weight-bold"},[e._v(e._s(t.exam)+":")])]),i("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(t.score)+" ")])],1),i("v-divider")],1)})),i("v-divider"),i("v-row",{staticClass:"justify-space-between"},[i("v-col",{attrs:{cols:"4"}},[i("span",{staticClass:"font-weight-bold"},[e._v("Final Assessment:")])]),i("v-col",{attrs:{cols:"8"}},["Fail"===e.examResults.assessment?i("v-chip",{staticClass:"ma-2",attrs:{dark:"",color:"red"}},[e._v(" "+e._s(e.examResults.assessment)+" ")]):e._e(),"Pass"===e.examResults.assessment?i("v-chip",{staticClass:"ma-2",attrs:{dark:"",color:"green"}},[e._v(" "+e._s(e.examResults.assessment)+" ")]):e._e()],1)],1),i("v-divider"),i("v-row",{staticClass:"justify-space-between"},[i("v-col",{attrs:{cols:"4"}},[i("span",{staticClass:"font-weight-bold"},[e._v("Attempts:")])]),i("v-col",{attrs:{cols:"8"}},[i("v-chip",{staticClass:"ma-2",attrs:{dark:"",color:"blue"}},[e._v(" "+e._s(e.examResults.attempt)+" ")])],1)],1)],2)],1):e._e(),e.references.length>0?i("bw-page-view",{attrs:{id:e.references[0],page:"nmcb-reference-letter"}}):e._e(),e.references.length>1?i("bw-page-view",{attrs:{id:e.references[1],page:"nmcb-reference-letter"}}):e._e(),e.transcript.id?i("bw-page-view",{attrs:{id:e.transcript.id,page:"nmcb-transcript"}}):e._e(),e.goodStanding.id?i("bw-page-view",{attrs:{id:e.goodStanding.id,page:"nmcb-letter-good-standing"}}):e._e(),e.registrationFee.id?i("bw-page-view",{attrs:{id:e.registrationFee.id,page:"nmcb-registration-fee"}}):e._e(),e.registrationFeeReview.id?i("bw-page-view",{attrs:{id:e.registrationFeeReview.id,page:"nmcb-registration-fee-review-status"}}):e._e(),e.handlingFee.id?i("bw-page-view",{attrs:{id:e.handlingFee.id,page:"nmcb-handling-fee"}}):e._e(),e.handlingFeeReview.id?i("bw-page-view",{attrs:{id:e.handlingFeeReview.id,page:"nmcb-handling-fee-review-status"}}):e._e(),e.regCommitteeReview.id?i("bw-page-view",{attrs:{id:e.regCommitteeReview.id,page:"nmcb-reg-committee-review"}}):e._e(),e.docsReview.id?i("bw-page-view",{attrs:{id:e.docsReview.id,page:"nmcb-app-documents-review-status"}}):e._e(),e.boardReview.id?i("bw-page-view",{attrs:{id:e.boardReview.id,page:"nmcb-board-review"}}):e._e(),e.examFee.id?i("bw-page-view",{attrs:{id:e.examFee.id,page:"nmcb-exam-fee"}}):e._e(),e.examFeeReview.id?i("bw-page-view",{attrs:{id:e.examFeeReview.id,page:"nmcb-exam-fee-review-status"}}):e._e(),i("v-container",{staticClass:"my-3"},[e.attachments.length>0?i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"700",outlined:""}},[i("v-card-title",{staticClass:"primary darken-1 white--text text-uppercase font-weight-bold"},[e._v(" Attachments ")]),i("v-card-text",{staticClass:"my-3"},[e._l(e.attachments,(function(t){return[i("v-card",{key:t.code},[i("v-card-title",[e._v(" "+e._s(t.display)+" ")]),i("v-card-text",{staticClass:"my-3"},[i("displayAttachment",{attrs:{data:t.data,code:t.code}})],1)],1)]}))],2)],1):e._e()],1)],1),i("v-col",{attrs:{cols:"3"}},[i("br"),"local"===e.application.trainLocation.code?i("locally-trained-stepper",{attrs:{step:e.step,noRefLetter1:e.noRefLetter1,noRefLetter2:e.noRefLetter2,noTranscript:e.noTranscript}}):e._e(),"outside"===e.application.trainLocation.code?i("outside-trained-stepper",{attrs:{step:e.step,noRefLetter1:e.noRefLetter1,noRefLetter2:e.noRefLetter2,noGoodStanding:e.noGoodStanding,noTranscript:e.noTranscript}}):e._e(),"temporary"===e.application.registrationType.code?i("temporary-certificate-stepper",{attrs:{step:e.step,noRefLetter1:e.noRefLetter1,noRefLetter2:e.noRefLetter2,noGoodStanding:e.noGoodStanding,noTranscript:e.noTranscript}}):e._e()],1)],1)],1)},r=[];i(6699);const a=i(7673);var n={props:["queries"],data(){return{overlay:!1,overlayUnclosed:!1,loading:!1,appCompKey:"application0",application:{resource:{},trainLocation:{},statusCode:"",applicationStatus:{},registrationType:{}},docsReview:{id:"",status:""},boardReview:{id:"",status:""},examResults:{results:[],assessment:""},references:[],transcript:{id:""},goodStanding:{id:""},handlingFee:{id:""},handlingFeeReview:{id:"",status:""},registrationFee:{id:""},registrationFeeReview:{id:"",status:""},regCommitteeReview:{id:"",status:""},examFee:{id:""},examFeeReview:{id:"",status:""},registration:{id:""},attachments:[],step:2,noTranscript:!0,noGoodStanding:!0,noRefLetter1:!0,noRefLetter2:!0}},methods:{getApplication(){this.step=2,fetch("/fhir/Basic/"+this.queries.id).then((e=>e.json().then((e=>{let t=e.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/nmcb-training-location"===e.url));t&&(this.application.trainLocation=t.valueCoding),this.application.resource=e,this.application.applicationStatus=e.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/nmcb-application-status"===e.url))?.valueCoding,this.application.registrationType=e.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/nmcb-registration-type"===e.url))?.valueCoding,this.application.statusCode=this.application.applicationStatus?.code,setTimeout((()=>{this.getRefLetters()}),500)}))))},getRefLetters(){let e={_profile:"http://ihris.org/fhir/StructureDefinition/nmcb-reference-letter-profile",nmcbapplication:"Basic/"+this.queries.id,_sort:"_lastUpdated"};fetch("/fhir/Basic?"+a.stringify(e)).then((e=>e.json().then((e=>{e.entry&&e.entry.length>0?(this.noRefLetter1=!1,this.references.push(e.entry[0].resource.id),e.entry.length>1&&(this.noRefLetter2=!1,setTimeout((()=>{this.references.push(e.entry[1].resource.id)}),500)),setTimeout((()=>{this.getTranscript()}),1e3)):this.getTranscript()}))))},getTranscript(){let e={_profile:"http://ihris.org/fhir/StructureDefinition/nmcb-transcript-profile",nmcbapplication:"Basic/"+this.queries.id,_sort:"_lastUpdated"};fetch("/fhir/Basic?"+a.stringify(e)).then((e=>e.json().then((e=>{e.entry&&e.entry.length>0?(this.noTranscript=!1,this.transcript.id=e.entry[0].resource.id,"outside"===this.application.trainLocation.code||"temporary"===this.application.registrationType.code?(this.step=2,setTimeout((()=>{this.getLetterGoodStanding()}),500)):this.references.length>1?(this.step=5,setTimeout((()=>{this.getDocsReviewStatus()}),500)):this.overlayUnclosed=!1):"outside"===this.application.trainLocation.code||"temporary"===this.application.registrationType.code?setTimeout((()=>{this.getLetterGoodStanding()}),500):this.overlayUnclosed=!1}))))},getLetterGoodStanding(){let e={_profile:"http://ihris.org/fhir/StructureDefinition/nmcb-letter-good-standing-profile",nmcbapplication:"Basic/"+this.queries.id,_sort:"_lastUpdated"};fetch("/fhir/Basic?"+a.stringify(e)).then((e=>e.json().then((e=>{e.entry&&e.entry.length>0?(this.noGoodStanding=!1,this.goodStanding.id=e.entry[0].resource.id,this.transcript.id&&this.references.length>1?(this.step=6,setTimeout((()=>{this.getDocsReviewStatus()}),500)):(this.step=2,this.overlayUnclosed=!1)):this.overlayUnclosed=!1}))))},getHandlingFee(){let e={_profile:"http://ihris.org/fhir/StructureDefinition/nmcb-handling-fee-profile",nmcbapplication:"Basic/"+this.queries.id,_sort:"_lastUpdated"};fetch("/fhir/Basic?"+a.stringify(e)).then((e=>e.json().then((e=>{e.entry&&e.entry.length>0?(this.step=8,this.handlingFee.id=e.entry[0].resource.id,setTimeout((()=>{this.getHandlingFeeReviewStatus()}),500)):this.overlayUnclosed=!1}))))},getHandlingFeeReviewStatus(){let e={_profile:"http://ihris.org/fhir/StructureDefinition/nmcb-handling-fee-review-profile",nmcbapplication:"Basic/"+this.queries.id,_sort:"-_id",_count:1};fetch("/fhir/Basic?"+a.stringify(e)).then((e=>e.json().then((e=>{e.entry&&e.entry.length>0?(this.handlingFeeReview.id=e.entry[0].resource.id,this.handlingFeeReview.status=e.entry[0].resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/nmcb-status"===e.url)).valueCoding,"approved"===this.handlingFeeReview.status.code&&(this.step=9),setTimeout((()=>{this.getRegCommitteeReview()}),500)):this.overlayUnclosed=!1}))))},getTempRegistrationFee(){let e={_profile:"http://ihris.org/fhir/StructureDefinition/nmcb-registration-fee-profile",nmcbapplication:"Basic/"+this.queries.id,_sort:"_lastUpdated"};fetch("/fhir/Basic?"+a.stringify(e)).then((e=>e.json().then((e=>{e.entry&&e.entry.length>0?(this.step=8,this.registrationFee.id=e.entry[0].resource.id,setTimeout((()=>{this.getTempRegistrationFeeReviewStatus()}),500)):this.overlayUnclosed=!1}))))},getTempRegistrationFeeReviewStatus(){let e={_profile:"http://ihris.org/fhir/StructureDefinition/nmcb-registration-fee-review-profile",nmcbapplication:"Basic/"+this.queries.id,_sort:"-_id",_count:1};fetch("/fhir/Basic?"+a.stringify(e)).then((e=>e.json().then((e=>{e.entry&&e.entry.length>0?(this.registrationFeeReview.id=e.entry[0].resource.id,this.registrationFeeReview.status=e.entry[0].resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/nmcb-status"===e.url)).valueCoding,"approved"===this.registrationFeeReview.status.code&&(this.step=9),setTimeout((()=>{this.getRegistration()}),500)):this.overlayUnclosed=!1}))))},getRegCommitteeReview(){let e={_profile:"http://ihris.org/fhir/StructureDefinition/nmcb-reg-committee-review-profile",nmcbapplication:"Basic/"+this.queries.id,_sort:"-_id",_count:1};fetch("/fhir/Basic?"+a.stringify(e)).then((e=>e.json().then((e=>{e.entry&&e.entry.length>0?(this.regCommitteeReview.id=e.entry[0].resource.id,this.regCommitteeReview.status=e.entry[0].resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/nmcb-status"===e.url)).valueCoding,"approved"===this.regCommitteeReview.status.code?(this.step=10,setTimeout((()=>{this.getExamFee()}),500)):this.overlayUnclosed=!1):this.overlayUnclosed=!1}))))},getDocsReviewStatus(){let e={_profile:"http://ihris.org/fhir/StructureDefinition/nmcb-documents-review-profile",nmcbapplication:"Basic/"+this.queries.id,_sort:"-_id",_count:1};fetch("/fhir/Basic?"+a.stringify(e)).then((e=>e.json().then((e=>{e.entry&&e.entry.length>0?(this.docsReview.id=e.entry[0].resource.id,this.docsReview.status=e.entry[0].resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/nmcb-status"===e.url)).valueCoding,"outside"===this.application.trainLocation.code?("approved"===this.docsReview.status.code&&(this.step=7),setTimeout((()=>{this.getHandlingFee()}),500)):"temporary"===this.application.registrationType.code?("approved"===this.docsReview.status.code&&(this.step=7),setTimeout((()=>{this.getTempRegistrationFee()}),500)):("approved"===this.docsReview.status.code&&(this.step=6),setTimeout((()=>{this.getBoardReview()}),500))):this.overlayUnclosed=!1}))))},getBoardReview(){let e={_profile:"http://ihris.org/fhir/StructureDefinition/nmcb-board-review-profile",nmcbapplication:"Basic/"+this.queries.id,_sort:"-_id",_count:1};fetch("/fhir/Basic?"+a.stringify(e)).then((e=>e.json().then((e=>{e.entry&&e.entry.length>0?(this.boardReview.id=e.entry[0].resource.id,this.boardReview.status=e.entry[0].resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/nmcb-status"===e.url)).valueCoding,"approved"===this.boardReview.status.code?(this.step=7,setTimeout((()=>{this.getExamFee()}),500)):this.overlayUnclosed=!1):this.overlayUnclosed=!1}))))},getExamFee(){let e={_profile:"http://ihris.org/fhir/StructureDefinition/nmcb-exam-fee-profile",nmcbapplication:"Basic/"+this.queries.id,_sort:"_lastUpdated"};fetch("/fhir/Basic?"+a.stringify(e)).then((e=>e.json().then((e=>{e.entry&&e.entry.length>0?("outside"===this.application.trainLocation.code?this.step=11:this.step=8,this.examFee.id=e.entry[0].resource.id,setTimeout((()=>{this.getExamFeeReviewStatus()}),500)):this.overlayUnclosed=!1}))))},getExamFeeReviewStatus(){let e={_profile:"http://ihris.org/fhir/StructureDefinition/nmcb-exam-fee-review-profile",nmcbapplication:"Basic/"+this.queries.id,_sort:"-_id",_count:1};fetch("/fhir/Basic?"+a.stringify(e)).then((e=>e.json().then((e=>{e.entry&&e.entry.length>0&&(this.examFeeReview.id=e.entry[0].resource.id,this.examFeeReview.status=e.entry[0].resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/nmcb-status"===e.url)).valueCoding,"approved"===this.examFeeReview.status.code&&("outside"===this.application.trainLocation.code?this.step=12:this.step=9,setTimeout((()=>{this.getExam()}),500))),this.overlayUnclosed=!1}))))},getExam(){let e={_profile:"http://ihris.org/fhir/StructureDefinition/nmcb-practitioner-exam-profile",nmcbapplication:"Basic/"+this.queries.id,_include:"Basic:nmcbscheduledexam",_sort:"-_id",_count:1};fetch("/fhir/Basic?"+a.stringify(e)).then((e=>e.json().then((e=>{if(e.entry&&e.entry.length>0){let t=e.entry.find((e=>e.resource.meta.profile.includes("http://ihris.org/fhir/StructureDefinition/nmcb-practitioner-exam-profile"))),i=e.entry.find((e=>e.resource.meta.profile.includes("http://ihris.org/fhir/StructureDefinition/nmcb-exam-scheduling-profile"))),s=i.resource.extension.filter((e=>"http://ihris.org/fhir/StructureDefinition/nmcb-exam-assessment-type"===e.url)),r=!0;for(let e of s){let i={};e=e.valueCoding;let s=t.resource.extension.find((t=>t.url==="http://ihris.org/fhir/StructureDefinition/"+e.code+"-score"));i.exam=e.display,s?i.score=s.valueDecimal:(i.score="-",r=!1),this.examResults.results.push(i)}r&&("outside"===this.application.trainLocation.code?this.step=13:this.step=10,setTimeout((()=>{this.getRegistration()}),500));let a=t.resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/exam-assessment"===e.url)),n=t.resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/exam-attempt"===e.url));a&&(this.examResults.assessment=a.valueCoding.display),n&&(this.examResults.attempt=n.valueInteger)}}))))},getRegistration(){let e={_profile:"http://ihris.org/fhir/StructureDefinition/nmcb-registration-profile",nmcbapplication:"Basic/"+this.queries.id,_include:"Basic:nmcbscheduledexam",_sort:"-_id",_count:1};fetch("/fhir/Basic?"+a.stringify(e)).then((e=>e.json().then((e=>{if(e.entry&&e.entry.length>0){if(this.registration.id=e.entry[0].resource.id,this.registration.regNumber=e.entry[0].resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/registration-number"===e.url))?.valueString,this.registration.status=e.entry[0].resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/nmcb-registration-status"===e.url))?.valueCoding,this.registration.date=e.entry[0].resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/registration-date"===e.url))?.valueDate,this.registration.date){let e=this.registration.date.split("-");this.registration.date=e[2]+"-"+e[1]+"-"+e[0]}"outside"===this.application.trainLocation.code?this.step=14:"temporary"===this.application.registrationType.code?this.step=10:this.step=11,this.overlayUnclosed=!1}else this.overlayUnclosed=!1}))))},getAttachments(){let e={_profile:"http://ihris.org/fhir/StructureDefinition/nmcb-application-attachment-profile",nmcbapplication:"Basic/"+this.queries.id};fetch("/fhir/Basic?"+a.stringify(e)).then((e=>e.json().then((async e=>{if(e.entry&&e.entry.length>0){let t=0;for(let i of e.entry[0].resource.extension)if("http://ihris.org/fhir/StructureDefinition/nmcb-professional-certificate"===i.url){let e=i.extension.find((e=>"attachment"===e.url))?.valueAttachment;this.attachments.push({code:"nmcb-professional-certificate"+ ++t,display:"Professional Certificate",data:e})}else if("http://ihris.org/fhir/StructureDefinition/nmcb-application-foreigner-attachment"===i.url){let e=i.extension.find((e=>"name"===e.url))?.valueCoding,t=i.extension.find((e=>"attachment"===e.url))?.valueAttachment;this.attachments.push({code:e.code,display:e.display,data:t})}else if(i.extension){let e=i.extension.find((e=>"name"===e.url)).valueCoding,t=i.extension.find((e=>"attachment"===e.url))?.valueAttachment,s={code:e.code,display:e.display};t&&(s.data=t),e.display||(s.display=await this.$fhirutils.codeLookup(e.system,e.code)),this.attachments.push(s)}}}))))}},watch:{overlayUnclosed(e){e||setTimeout((()=>{this.getAttachments()}),500)}},computed:{canAddDocsReview(){return!("local"!==this.application.trainLocation.code||!this.docsReview.status||"approved"===this.docsReview.status.code||!this.transcript.id||2!==this.references.length)||!("outside"!==this.application.trainLocation.code&&"temporary"!==this.application.registrationType.code||!this.docsReview.status||"approved"===this.docsReview.status.code||!this.transcript.id||!this.goodStanding.id||2!==this.references.length)},canAddRegistrationFee(){return"temporary"===this.application.registrationType.code&&!(!this.goodStanding.id||!this.transcript.id||"approved"!==this.docsReview.status.code||this.registrationFee.id&&"pending"!==this.registrationFeeReview.status.code&&"rejected"!==this.registrationFeeReview.status.code)},canAddRegistrationFeeReview(){return!(!this.registrationFee.id||"approved"===this.registrationFeeReview.status.code||"temporary"!==this.application.registrationType.code)},canAddHandlingFee(){return"outside"===this.application.trainLocation.code&&!(!this.goodStanding.id||!this.transcript.id||"approved"!==this.docsReview.status.code||this.handlingFee.id&&"pending"!==this.handlingFeeReview.status.code&&"rejected"!==this.handlingFeeReview.status.code)},canAddHandlingFeeReview(){return"outside"===this.application.trainLocation.code&&!(!this.handlingFee.id||"approved"===this.handlingFeeReview.status.code)},canAddCommitteeReview(){return"outside"===this.application.trainLocation.code&&("approved"===this.handlingFeeReview.status.code&&"approved"!==this.regCommitteeReview.status.code)},canAddBoardReview(){return"local"===this.application.trainLocation.code&&("approved"===this.docsReview.status.code&&"approved"!==this.boardReview.status.code)},canAddExamFee(){if("local"===this.application.trainLocation.code){if("approved"===this.boardReview.status.code&&(!this.examFee.id||"pending"===this.examFeeReview.status.code||"rejected"===this.examFeeReview.status.code))return!0}else if("outside"===this.application.trainLocation.code&&"approved"===this.regCommitteeReview.status.code&&(!this.examFee.id||"pending"===this.examFeeReview.status.code||"rejected"===this.examFeeReview.status.code))return!0;return!1},canAddExamFeeReview(){return!(!this.examFee.id||"approved"===this.examFeeReview.status.code)}},created(){console.log(this.$store.state.user.obj.roles),this.overlayUnclosed=!0,this.getApplication()},components:{"bw-page-view":()=>i.e(6688).then(i.bind(i,6688)),"locally-trained-stepper":()=>i.e(7042).then(i.bind(i,7042)),"outside-trained-stepper":()=>i.e(4092).then(i.bind(i,4092)),"temporary-certificate-stepper":()=>i.e(2388).then(i.bind(i,2388)),displayAttachment:()=>i.e(9057).then(i.bind(i,9057))}},o=n,c=i(3736),d=i(3453),l=i.n(d),p=i(3150),h=i(2371),u=i(7118),g=i(5424),m=i(2102),v=i(4228),f=i(1418),b=i(6428),w=i(6816),y=i(7620),_=i(5132),R=i(1058),x=i(624),C=i(2877),F=(0,c.Z)(o,s,r,!1,null,null,null),S=F.exports;l()(F,{VBtn:p.Z,VCard:h.Z,VCardText:u.ZB,VCardTitle:u.EB,VChip:g.Z,VCol:m.Z,VContainer:v.Z,VDivider:f.Z,VIcon:b.Z,VList:w.Z,VListItem:y.Z,VNavigationDrawer:_.Z,VOverlay:R.Z,VProgressCircular:x.Z,VRow:C.Z})}}]);
//# sourceMappingURL=4476.7db032ef.js.map