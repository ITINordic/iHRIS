"use strict";(self["webpackChunkiHRIS_v5"]=self["webpackChunkiHRIS_v5"]||[]).push([[191],{3205:function(e,t,r){r.d(t,{Z:function(){return a}});var s=r(8085),i=r(3325),a=(0,i.Z)(s.Z).extend({name:"v-subheader",props:{inset:Boolean},render(e){return e("div",{staticClass:"v-subheader",class:{"v-subheader--inset":this.inset,...this.themeClasses},attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})},7112:function(e,t,r){r.r(t),r.d(t,{default:function(){return j}});var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{"grid-list-xs":""}},[r("v-overlay",{attrs:{value:e.overlay}},[r("v-progress-circular",{attrs:{color:"primary",indeterminate:"",size:"50"}}),r("v-btn",{attrs:{icon:""},on:{click:function(t){e.overlay=!1}}},[r("v-icon",[e._v("mdi-close")])],1)],1),r("v-overlay",{attrs:{value:e.overlayUnclosed}},[r("v-progress-circular",{attrs:{color:"primary",indeterminate:"",size:"50"}})],1),r("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"600"},model:{value:e.carryForwardDialog,callback:function(t){e.carryForwardDialog=t},expression:"carryForwardDialog"}},[r("v-card",[r("v-toolbar",{attrs:{color:"primary",dark:""}},[e._v("Requesting Leave Carry Forward")]),r("v-card-text",[e._v(" Are you sure that you want to request carrying "+e._s(e.annualLeave.balanceCarried)+" days from leave cycle "+e._s(e.annualLeave.previousPeriod)+" to leave cycle "+e._s(e.annualLeave.currentPeriod)+" ")]),r("v-card-actions",{staticClass:"justify-end"},[r("v-btn",{attrs:{color:"error"},on:{click:function(t){e.carryForwardDialog=!1}}},[e._v("Cancel")]),r("v-spacer"),r("v-btn",{on:{click:e.createCarryForwardRequest}},[e._v("Yes, Proceed")])],1)],1)],1),r("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"600"},model:{value:e.carryForwardActionDialog,callback:function(t){e.carryForwardActionDialog=t},expression:"carryForwardActionDialog"}},[r("v-card",[r("v-toolbar",{attrs:{color:"primary",dark:""}},[e._v("Requesting Leave Carry Forward")]),r("v-card-text",[e._v(" Select action for carrying "+e._s(e.annualLeave.balanceCarried)+" days from leave cycle "+e._s(e.annualLeave.previousPeriod)+" to leave cycle "+e._s(e.annualLeave.currentPeriod)+" "),r("v-select",{attrs:{items:e.carryRequestActions,label:"Select Action"},model:{value:e.carryRequestAction,callback:function(t){e.carryRequestAction=t},expression:"carryRequestAction"}})],1),r("v-card-actions",{staticClass:"justify-end"},[r("v-btn",{attrs:{color:"error"},on:{click:function(t){e.carryForwardActionDialog=!1}}},[e._v("Cancel")]),r("v-spacer"),r("v-btn",{attrs:{disabled:!e.carryRequestAction},on:{click:e.createCarryForwardAction}},[e._v("Proceed and Save")])],1)],1)],1),r("v-navigation-drawer",{staticClass:"primary darken-1 white--text",staticStyle:{"z-index":"3"},attrs:{app:"",clipped:"",permanent:"",right:""}},[r("v-list",{staticClass:"white--text"},[r("v-list-item",[r("v-btn",{staticClass:"secondary",attrs:{dark:""},on:{click:function(t){return e.$router.push("/resource/view/practitioner/"+e.practitionerId)}}},[r("v-icon",{attrs:{light:"",left:""}},[e._v("mdi-eye")]),r("span",[e._v("View Health Profession")])],1)],1),e.canRequestCarryForward?r("v-list-item",[r("v-btn",{staticClass:"primary",attrs:{dark:"",small:""},on:{click:function(t){e.carryForwardDialog=!0}}},[r("v-icon",{attrs:{light:"",left:""}},[e._v("mdi-plus")]),r("span",[e._v("Request Leave Carry Forward")])],1)],1):e._e(),e.canApproveRequestCarryForward?r("v-list-item",[r("v-btn",{staticClass:"primary",attrs:{dark:"",small:""},on:{click:function(t){e.carryForwardActionDialog=!0}}},[r("v-icon",{attrs:{light:"",left:""}},[e._v("mdi-plus")]),r("span",[e._v("Approve Carry Forward Request")])],1)],1):e._e(),e.canAddSupervisorApproval?r("v-list-item",[r("v-btn",{staticClass:"primary",attrs:{dark:"",small:""},on:{click:function(t){return e.$router.push("/questionnaire/supervisor-leave-approval/supervisor-leave-approval?practitioner="+e.practitionerId+"&leaverequest="+e.queries.id)}}},[r("v-icon",{attrs:{light:"",left:""}},[e._v("mdi-plus")]),r("span",[e._v("Add Approval")])],1)],1):e._e(),e.canAddSupervisorSupervisorApproval?r("v-list-item",[r("v-btn",{staticClass:"primary",attrs:{dark:"",small:""},on:{click:function(t){return e.$router.push("/questionnaire/supervisor-supervisor-leave-approval/supervisor-supervisor-leave-approval?practitioner="+e.practitionerId+"&leaverequest="+e.queries.id)}}},[r("v-icon",{attrs:{light:"",left:""}},[e._v("mdi-plus")]),r("span",[e._v("Add Approval")])],1)],1):e._e(),e.canAddHRApproval?r("v-list-item",[r("v-btn",{staticClass:"primary",attrs:{dark:"",small:""},on:{click:function(t){return e.$router.push("/questionnaire/hr-leave-approval/hr-leave-approval?practitioner="+e.practitionerId+"&leaverequest="+e.queries.id)}}},[r("v-icon",{attrs:{light:"",left:""}},[e._v("mdi-plus")]),r("span",[e._v("Add Approval")])],1)],1):e._e()],1)],1),r("v-row",[r("v-col",[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.leaveDetailsHeaders,items:e.leaveDetails,"items-per-page":10}}),r("br"),e.carryForwardRequest.fromPeriod?r("v-card",{staticClass:"mx-auto",attrs:{"max-width":"700",outlined:""}},[r("v-card-title",{staticClass:"primary darken-1 white--text text-uppercase font-weight-bold"},[e._v(" Leave Carry Forward Request ")]),r("v-card-text",{staticClass:"my-3"},[r("v-row",{staticClass:"justify-space-between"},[r("v-col",{attrs:{cols:"4"}},[r("span",{staticClass:"font-weight-bold"},[e._v("From Leave Cycle")])]),r("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.carryForwardRequest.fromPeriod)+" ")])],1),r("v-divider"),r("v-row",{staticClass:"justify-space-between"},[r("v-col",{attrs:{cols:"4"}},[r("span",{staticClass:"font-weight-bold"},[e._v("To Leave Cycle")])]),r("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.carryForwardRequest.toPeriod)+" ")])],1),r("v-divider"),r("v-row",{staticClass:"justify-space-between"},[r("v-col",{attrs:{cols:"4"}},[r("span",{staticClass:"font-weight-bold"},[e._v("Request Date")])]),r("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.carryForwardRequest.requestDate)+" ")])],1),r("v-divider"),r("v-row",{staticClass:"justify-space-between"},[r("v-col",{attrs:{cols:"4"}},[r("span",{staticClass:"font-weight-bold"},[e._v("Status")])]),r("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.carryForwardRequest.status.display)+" ")])],1)],1)],1):e._e(),e.leaveRequest.category?r("v-card",{staticClass:"mx-auto",attrs:{"max-width":"700",outlined:""}},[r("v-card-title",{staticClass:"primary darken-1 white--text text-uppercase font-weight-bold"},[e._v(" Leave Request ")]),r("v-card-text",{staticClass:"my-3"},[r("v-row",{staticClass:"justify-space-between"},[r("v-col",{attrs:{cols:"4"}},[r("span",{staticClass:"font-weight-bold"},[e._v("Leave Category")])]),r("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.leaveRequest.category)+" ")])],1),r("v-divider"),r("v-row",{staticClass:"justify-space-between"},[r("v-col",{attrs:{cols:"4"}},[r("span",{staticClass:"font-weight-bold"},[e._v("Start Date")])]),r("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.leaveRequest.startDate)+" ")])],1),r("v-divider"),r("v-row",{staticClass:"justify-space-between"},[r("v-col",{attrs:{cols:"4"}},[r("span",{staticClass:"font-weight-bold"},[e._v("End Date")])]),r("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.leaveRequest.endDate)+" ")])],1),r("v-divider"),r("v-row",{staticClass:"justify-space-between"},[r("v-col",{attrs:{cols:"4"}},[r("span",{staticClass:"font-weight-bold"},[e._v("Return Date")])]),r("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.leaveRequest.returnDate)+" ")])],1),r("v-divider"),r("v-row",{staticClass:"justify-space-between"},[r("v-col",{attrs:{cols:"4"}},[r("span",{staticClass:"font-weight-bold"},[e._v("Days")])]),r("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.leaveRequest.days)+" ")])],1),r("v-divider"),r("v-row",{staticClass:"justify-space-between"},[r("v-col",{attrs:{cols:"4"}},[r("span",{staticClass:"font-weight-bold"},[e._v("Status")])]),r("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.leaveRequest.status)+" ")])],1)],1)],1):e._e(),e.supervisorApproval.id?r("v-card",{staticClass:"mx-auto",attrs:{"max-width":"700",outlined:""}},[r("v-card-title",{staticClass:"accent darken-1 white--text text-uppercase font-weight-bold"},[e._v(" Immediate Supervisor Approval ")]),r("v-card-text",{staticClass:"my-3"},[r("v-row",{staticClass:"justify-space-between"},[r("v-col",{attrs:{cols:"4"}},[r("span",{staticClass:"font-weight-bold"},[e._v("Action")])]),r("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.supervisorApproval.status)+" ")])],1),r("v-divider"),r("v-row",{staticClass:"justify-space-between"},[r("v-col",{attrs:{cols:"4"}},[r("span",{staticClass:"font-weight-bold"},[e._v("Action Date")])]),r("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.supervisorApproval.date)+" ")])],1),r("v-divider"),r("v-row",{staticClass:"justify-space-between"},[r("v-col",{attrs:{cols:"4"}},[r("span",{staticClass:"font-weight-bold"},[e._v("Description")])]),r("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.supervisorApproval.description)+" ")])],1)],1)],1):e._e(),e.supervisorSupervisorApproval.id?r("v-card",{staticClass:"mx-auto",attrs:{"max-width":"700",outlined:""}},[r("v-card-title",{staticClass:"accent darken-1 white--text text-uppercase font-weight-bold"},[e._v(" Supervisor's Supervisor Approval ")]),r("v-card-text",{staticClass:"my-3"},[r("v-row",{staticClass:"justify-space-between"},[r("v-col",{attrs:{cols:"4"}},[r("span",{staticClass:"font-weight-bold"},[e._v("Action")])]),r("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.supervisorSupervisorApproval.status)+" ")])],1),r("v-divider"),r("v-row",{staticClass:"justify-space-between"},[r("v-col",{attrs:{cols:"4"}},[r("span",{staticClass:"font-weight-bold"},[e._v("Action Date")])]),r("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.supervisorSupervisorApproval.date)+" ")])],1),r("v-divider"),r("v-row",{staticClass:"justify-space-between"},[r("v-col",{attrs:{cols:"4"}},[r("span",{staticClass:"font-weight-bold"},[e._v("Description")])]),r("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.supervisorSupervisorApproval.description)+" ")])],1)],1)],1):e._e(),e.hrApproval.id?r("v-card",{staticClass:"mx-auto",attrs:{"max-width":"700",outlined:""}},[r("v-card-title",{staticClass:"accent darken-1 white--text text-uppercase font-weight-bold"},[e._v(" HR Approval ")]),r("v-card-text",{staticClass:"my-3"},[r("v-row",{staticClass:"justify-space-between"},[r("v-col",{attrs:{cols:"4"}},[r("span",{staticClass:"font-weight-bold"},[e._v("Action")])]),r("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.hrApproval.status)+" ")])],1),r("v-divider"),r("v-row",{staticClass:"justify-space-between"},[r("v-col",{attrs:{cols:"4"}},[r("span",{staticClass:"font-weight-bold"},[e._v("Action Date")])]),r("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.hrApproval.date)+" ")])],1),r("v-divider"),r("v-row",{staticClass:"justify-space-between"},[r("v-col",{attrs:{cols:"4"}},[r("span",{staticClass:"font-weight-bold"},[e._v("Description")])]),r("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.hrApproval.description)+" ")])],1)],1)],1):e._e()],1),r("v-col",{attrs:{cols:"3"}},[r("br"),r("leave-request-stepper",{attrs:{step:e.step,noSupervisorAppr:!e.supervisorApproval.id,noSupervisorSupervisorAppr:!e.supervisorSupervisorApproval.id,noHRApproval:!e.hrApproval.id,status:e.leaveRequest.status}})],1)],1)],1)},i=[];const a=r(7673);var o={props:["queries"],data(){return{overlay:!1,overlayUnclosed:!1,loading:!1,carryForwardDialog:!1,carryForwardActionDialog:!1,practitionerId:"",leaveRequest:{startDate:"",category:""},supervisorApproval:{id:""},supervisorSupervisorApproval:{id:""},hrApproval:{id:""},carryForwardRequest:{id:"loading",status:{}},noSupervisor:!1,noSupervisorSupervisor:!1,supervisor:"",supervisorSupervisor:"",step:1,leaveDetails:[],annualLeave:{},leaveDetailsHeaders:[{text:"Period",value:"period"},{text:"Category",value:"category"},{text:"Leave Days",value:"maxDays"},{text:"Accrued",value:"accrued"},{text:"Days on Leave",value:"daysOnLeave"},{text:"Expired",value:"expired"},{text:"Balance",value:"balance"}],carryRequestActions:[{text:"Pending",value:"pending"},{text:"Approve",value:"approved"},{text:"Reject",value:"rejected"}],carryRequestAction:""}},computed:{canAddSupervisorApproval(){let e=this.$store.state.user.obj.resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/ihris-practitioner-reference"===e.url));return!(!e||e.valueReference.reference!==this.supervisor||this.supervisorApproval.id)},canAddSupervisorSupervisorApproval(){let e=this.$store.state.user.obj.resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/ihris-practitioner-reference"===e.url));return!(!e||e.valueReference.reference!==this.supervisorSupervisor||!this.supervisorApproval.id||this.supervisorSupervisorApproval.id)},canAddHRApproval(){let e=this.$store.state.user.obj.resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/ihris-assign-role"===e.url));return!(!e||"Basic/na-hr-manager"!==e.valueReference.reference||!this.supervisorSupervisorApproval.id||this.hrApproval.id)},canRequestCarryForward(){if(this.carryForwardRequest.id&&"loading"!==this.carryForwardRequest.id||"loading"===this.carryForwardRequest.id)return!1;if(this.leaveDetails.length){let e=this.annualLeave.currentPeriod.split("/")[0],t=this.$moment().diff(e,"months");if(t>6||this.annualLeave.balanceCarried<=0||this.annualLeave.balanceCarried<=this.annualLeave.expired)return!1;if(this.annualLeave.maxDays)return!0}return!1},canApproveRequestCarryForward(){if(!this.carryForwardRequest.id||"loading"===this.carryForwardRequest.id)return!1;let e=this.$store.state.user.obj.resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/ihris-assign-role"===e.url));return!(!e||"Basic/exec-manager"!==e.valueReference.reference||"approved"===this.carryForwardRequest.status.code)}},methods:{getLeaveCaryForward(){let e={practitioner:"Practitioner/"+this.practitionerId,_profile:"http://ihris.org/fhir/StructureDefinition/leave-carry-forward-request-profile",toleaveperiod:this.annualLeave.currentPeriod};fetch("/fhir/Basic?"+a.stringify(e)).then((e=>e.json().then((async e=>{e&&e.entry&&e.entry.length?this.populateCarryForward(e.entry[0].resource):this.carryForwardRequest.id=""}))))},populateCarryForward(e){this.carryForwardRequest.id=e.id,this.carryForwardRequest.fromPeriod=e.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/from-leave-period"===e.url)).valueString,this.carryForwardRequest.toPeriod=e.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/to-leave-period"===e.url)).valueString,this.carryForwardRequest.requestDate=e.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/request-date"===e.url)).valueDate,this.carryForwardRequest.status=e.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/carry-approval-status"===e.url)).valueCoding},getLeaveDetails(){fetch("/site/leave/balance/"+this.practitionerId).then((e=>e.json().then((e=>{this.leaveDetails=e,this.annualLeave=this.leaveDetails.find((e=>"Annual"===e.category)),this.getLeaveCaryForward()}))))},getSupervisor(){let e,t={practitioner:this.practitionerId,_count:200,_sort:"-_id"};fetch("/fhir/PractitionerRole?"+a.stringify(t)).then((t=>t.json().then((async t=>{if(t&&t.entry&&t.entry.length)for(let s of t.entry)e?e.resource.id<s.resource.id&&(e=s):e=s;let r=e.resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/supervisor"===e.url));r?(this.supervisor=r.valueReference.reference,this.getSupervisorSupervisor(this.supervisor)):this.noSupervisor=!0}))))},getSupervisorSupervisor(e){let t,r={practitioner:e,_count:200,_sort:"-_id"};fetch("/fhir/PractitionerRole?"+a.stringify(r)).then((e=>e.json().then((async e=>{if(e&&e.entry&&e.entry.length)for(let s of e.entry)t?t.resource.id<s.resource.id&&(t=s):t=s;let r=t.resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/supervisor"===e.url));r?this.supervisorSupervisor=r.valueReference.reference:this.noSupervisorSupervisor=!0}))))},getLeave(){fetch("/fhir/Basic/"+this.queries.id).then((e=>e.json().then((async e=>{this.practitionerId=e.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/ihris-practitioner-reference"===e.url)).valueReference.reference,this.practitionerId=this.practitionerId.split("/")[1],this.leaveRequest.startDate=e.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/start-date"===e.url)).valueDate,this.leaveRequest.endDate=e.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/end-date"===e.url)).valueDate,this.leaveRequest.returnDate=e.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/return-date"===e.url)).valueDate,this.leaveRequest.days=e.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/leave-days"===e.url))?.valueInteger,this.leaveRequest.status=e.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/leave-status"===e.url)).valueCoding.display,"Approved"===this.leaveRequest.status&&(this.step=4);let t=e.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/leave-category"===e.url)).valueReference.reference;await fetch("/fhir/"+t).then((e=>e.json().then((async e=>{this.leaveRequest.category=e.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/ihris-basic-name"===e.url)).valueString})))),this.getLeaveDetails(),this.getSupervisor(),this.getSupervisorApproval()}))))},getSupervisorApproval(){let e={_profile:"http://ihris.org/fhir/StructureDefinition/supervisor-leave-approval-profile",leaverequest:"Basic/"+this.queries.id,_sort:"_lastUpdated"};fetch("/fhir/Basic?"+a.stringify(e)).then((e=>e.json().then((e=>{if(e.entry&&e.entry.length){4!=this.step&&(this.step=2),this.supervisorApproval.id=e.entry[0].resource.id,this.supervisorApproval.status=e.entry[0].resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/supervisor-leave-status"===e.url)).valueCoding.display,this.supervisorApproval.date=e.entry[0].resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/action-date"===e.url)).valueDate;let t=e.entry[0].resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/description"===e.url));t&&(this.supervisorApproval.description=t.valueString),this.getSupervisorSupervisorApproval()}}))))},getSupervisorSupervisorApproval(){let e={_profile:"http://ihris.org/fhir/StructureDefinition/supervisor-supervisor-leave-approval-profile",leaverequest:"Basic/"+this.queries.id,_sort:"_lastUpdated"};fetch("/fhir/Basic?"+a.stringify(e)).then((e=>e.json().then((e=>{if(e.entry&&e.entry.length){4!=this.step&&(this.step=3),this.supervisorSupervisorApproval.id=e.entry[0].resource.id,this.supervisorSupervisorApproval.status=e.entry[0].resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/supervisor-supervisor-leave-status"===e.url)).valueCoding.display,this.supervisorSupervisorApproval.date=e.entry[0].resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/action-date"===e.url)).valueDate;let t=e.entry[0].resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/description"===e.url));t&&(this.supervisorSupervisorApproval.description=t.valueString),this.getHRApproval()}}))))},getHRApproval(){let e={_profile:"http://ihris.org/fhir/StructureDefinition/hr-leave-approval-profile",leaverequest:"Basic/"+this.queries.id,_sort:"_lastUpdated"};fetch("/fhir/Basic?"+a.stringify(e)).then((e=>e.json().then((e=>{if(e.entry&&e.entry.length){this.hrApproval.id=e.entry[0].resource.id,this.hrApproval.status=e.entry[0].resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/hr-leave-status"===e.url)).valueCoding.display,this.hrApproval.date=e.entry[0].resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/action-date"===e.url)).valueDate;let t=e.entry[0].resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/description"===e.url));t&&(this.hrApproval.description=t.valueString)}}))))},createCarryForwardRequest(){this.overlayUnclosed=!0,fetch("/site/leave/createCarryRequest/"+this.practitionerId,{method:"POST",headers:{"Content-Type":"application/json"},redirect:"manual",body:JSON.stringify(this.annualLeave)}).then((e=>{this.overlayUnclosed=!1,this.carryForwardDialog=!1,201===e.status?(this.$store.commit("setMessage",{type:"success",text:"Carry Forward Request Created Successfully"}),e.json().then((e=>{this.getLeave(),this.populateCarryForward(e)}))):this.$store.commit("setMessage",{type:"error",text:"Failed To Create Carry Forward Request."})})).catch((()=>{this.overlayUnclosed=!1,this.$store.commit("setMessage",{type:"error",text:"Failed To Create Carry Forward Request."})}))},createCarryForwardAction(){this.overlayUnclosed=!0,fetch("/site/leave/createCarryAction/"+this.carryForwardRequest.id+"/"+this.carryRequestAction,{method:"POST",headers:{"Content-Type":"application/json"},redirect:"manual"}).then((e=>{this.carryRequestAction="",this.overlayUnclosed=!1,this.carryForwardActionDialog=!1,200===e.status?(this.$store.commit("setMessage",{type:"success",text:"Carry Forward Action Added Successfully"}),e.json().then((e=>{this.populateCarryForward(e),this.getLeaveDetails()}))):this.$store.commit("setMessage",{type:"error",text:"Failed To Add Carry Forward Action."})})).catch((()=>{this.overlayUnclosed=!1,this.$store.commit("setMessage",{type:"error",text:"Failed To Add Carry Forward Action."})}))}},created(){this.getLeave()},components:{"leave-request-stepper":()=>r.e(737).then(r.bind(r,737))}},n=o,l=r(3736),c=r(3453),v=r.n(c),u=r(3150),p=r(2371),d=r(7118),h=r(2102),f=r(4228),y=r(865),g=r(4497),w=r(1418),C=r(6428),_=r(6816),A=r(7620),S=r(5132),m=r(1058),D=r(624),x=r(2877),q=r(3986),b=r(9762),R=r(6656),F=(0,l.Z)(n,s,i,!1,null,null,null),j=F.exports;v()(F,{VBtn:u.Z,VCard:p.Z,VCardActions:d.h7,VCardText:d.ZB,VCardTitle:d.EB,VCol:h.Z,VContainer:f.Z,VDataTable:y.Z,VDialog:g.Z,VDivider:w.Z,VIcon:C.Z,VList:_.Z,VListItem:A.Z,VNavigationDrawer:S.Z,VOverlay:m.Z,VProgressCircular:D.Z,VRow:x.Z,VSelect:q.Z,VSpacer:b.Z,VToolbar:R.Z})}}]);
//# sourceMappingURL=191.b85625e1.js.map